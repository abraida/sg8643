<!doctype html>
<html>
    <head>
        <title></title>        
        <style>
            body{ background-color: grey; }
            canvas{ background-color: white; }
			textarea{ background-color: black; foreground-color: white;}
        </style>
    </head>
    <body>

		<div id="contenedor3d">
			<center>    		            
				<canvas id="canvas" width="1000" height="800">
					Your browser does not support the HTML5 canvas element.
				</canvas>    		
			</center>
		</div>

        <script type="text/javascript" src="js/import/gl-matrix.js"></script>
        <script src="js/import/dat.gui.js"></script>
		<script src="js/import/jquery-3.6.1.min.js"></script>
        
        <script src="js/src/curvas.js"></script>
        <script src="js/src/superficies.js"></script>
		<script src="js/src/Objeto.js"></script>
		<script src="js/src/castillo.js"></script>
		<script src="js/src/catapulta.js"></script>
		<script src="js/src/terreno.js"></script>
		<script src="js/src/camara.js"></script>
		<script src="js/init.js"></script>
        
        <script src="/js/main.js"></script>
		<script src="js/src/interfaz.js"></script>



        <script id="shader-vs" type="x-shader/x-vertex">

            precision highp float;

            attribute vec3 aVertexPosition;
            attribute vec3 aVertexNormal;

            uniform mat4 modelMatrix;            
            uniform mat4 viewMatrix;
            uniform mat4 projMatrix;

            uniform mat4 normalMatrix;

            varying vec3 vNormal;    
            varying vec3 vPosWorld;  

            void main(void) {
                gl_Position = projMatrix * viewMatrix * modelMatrix * vec4(aVertexPosition, 1.0);

                vPosWorld=(modelMatrix*vec4(aVertexPosition,1.0)).xyz;    //la posicion en coordenadas de mundo
                vNormal=(normalMatrix*vec4(aVertexNormal,1.0)).xyz;       //la normal en coordenadas de mundo                
                
            }
        </script>

        <script id="shader-fs" type="x-shader/x-fragment">
            precision highp float;
            varying vec3 vNormal;
            varying vec3 vPosWorld;

            void main(void) {
                vec3 lightVec=normalize(vec3(0.0,3.0,5.0));
                vec3 diffColor=mix(vec3(0.4,0.4,0.4),vPosWorld,0.4);
                vec3 color=dot(lightVec,vNormal)*diffColor+vec3(0.1,0.1,0.1);

               gl_FragColor = vec4(color,1.0);
            }
        </script>
        
        <script>

        </script>
    </body>
</html>
